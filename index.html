<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Project Tabs</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <style>
        .tab-content {
            display: none;
            border: 1px solid #ccc;
            padding: 10px;
            background-color: #fafad2;
            margin-top: 5px;
        }
        .tab-button {
            display: inline-block;
            padding: 5px 10px;
            border: 1px solid #ccc;
            background-color: #eee;
            margin-right: 5px;
            cursor: pointer;
        }
        .tab-button.active {
            background-color: #ddd;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div id="tabs">
    <div id="tab1" class="tab-button" data-tab="1">Project 1</div>
    <div id="tab2" class="tab-button" data-tab="2">Project 2</div>
    <div id="tab3" class="tab-button" data-tab="3">Project 3</div>
    <div id="tab4" class="tab-button" data-tab="4">Project 4</div>
</div>

<div id="content" class="tab-content">
    <!-- The content from each project will be loaded here -->
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
$(document).ready(function() {
    $(".tab-button").click(function() {
        var tabId = $(this).data('tab');
        loadContent(tabId);
        setActiveTab(tabId);
    });

    function setActiveTab(tabId) {
        $('.tab-button').removeClass('active');
        $('#tab' + tabId).addClass('active');
    }

   function loadContent(tabId) {
    setActiveTab(tabId);

    // Construct the URL for the content to load from GitHub Pages
    const url = `https://zyskowskik.github.io/Kacper_Zyskowski.github.io/Project_${tabId}.html`;

    fetch(url)
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.text();
    })
    .then(html => {
        const contentDiv = document.getElementById('content');
        contentDiv.innerHTML = html;
        contentDiv.style.display = 'block';

        // Extract and execute scripts
        executeScripts(contentDiv);
    })
    .catch(error => {
        console.error('Failed to load content:', error);
        document.getElementById('content').innerHTML = 'Failed to load the project content.';
    });
}

function executeScripts(container) {
    const scripts = container.querySelectorAll('script');
    scripts.forEach(oldScript => {
        const newScript = document.createElement('script');
        newScript.type = oldScript.type;
        if (oldScript.src) {
            newScript.src = oldScript.src;
        }
        newScript.innerHTML = oldScript.innerHTML;
        oldScript.parentNode.replaceChild(newScript, oldScript);
    });
}


    // On Hover Description
    $(".tab-button").hover(
        function() {
            $(this).append($("<span> Click to view project</span>"));
        }, function() {
            $(this).find("span:last").remove();
        }
    );

    // Fade in/out example for content
    $(".tab-button").on("mouseenter", function() {
        $(this).fadeTo('slow', 0.5);
    }).on("mouseleave", function() {
        $(this).fadeTo('slow', 1);
    });

    // Initial load of content
    loadContent('1');
});
</script>
</body>
</html>

